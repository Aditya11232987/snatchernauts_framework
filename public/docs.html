<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Snatchernauts — Documentation</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=JetBrains+Mono:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #0e0e10; /* Background/Base */
        --text: #eaeaea; /* Text */
        --muted: #b8b8b8;
        --cyan: #8bd5ff; /* Primary Accent */
        --pink: #ff4f6d; /* Highlight/Alert */
        --yellow: #f5e37c; /* Secondary Glow */
        --card: #141418;
        --bd: #22222c;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        background: var(--bg);
        color: var(--text);
        font-family:
          "Space Grotesk",
          system-ui,
          Segoe UI,
          Roboto,
          Arial,
          sans-serif;
        line-height: 1.65;
      }
      a {
        color: var(--cyan);
        text-decoration: none;
      }
      a:hover {
        color: #aee3ff;
      }
      code,
      pre,
      .mono {
        font-family: "JetBrains Mono", ui-monospace, Consolas, monospace;
      }

      /* Top bar */
      header {
        position: sticky;
        top: 0;
        z-index: 50;
        background: linear-gradient(
          180deg,
          rgba(14, 14, 16, 0.95),
          rgba(14, 14, 16, 0.7)
        );
        border-bottom: 1px solid #1f1f25;
        backdrop-filter: saturate(140%) blur(8px);
      }
      .nav {
        max-width: 1100px;
        margin: 0 auto;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        gap: 12px;
        justify-content: space-between;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .brand .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: radial-gradient(65% 65% at 50% 45%, var(--pink), #661826);
      }
      .brand b {
        letter-spacing: 0.06em;
      }
      .nav a.btn {
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid #2a2a33;
        color: var(--text);
      }
      .nav a.btn:hover {
        border-color: var(--cyan);
        box-shadow: 0 0 0 3px rgba(139, 213, 255, 0.15);
      }

      /* Layout */
      .wrap {
        max-width: 1100px;
        margin: 0 auto;
        padding: 24px 16px 60px;
      }
      .hero {
        margin: 14px 0 18px;
        background: linear-gradient(180deg, var(--card), #0f0f13);
        border: 1px solid var(--bd);
        border-radius: 16px;
        padding: 18px 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }
      .hero h1 {
        margin: 0;
        font-size: 1.6rem;
      }
      .badge {
        display: inline-block;
        padding: 4px 10px;
        border: 1px solid #2a2a33;
        border-radius: 10px;
        color: var(--yellow);
        font-weight: 600;
      }
      .glow {
        position: fixed;
        inset: auto -35vmax -35vmax auto;
        width: 70vmax;
        height: 70vmax;
        pointer-events: none;
        background:
          radial-gradient(
            closest-side,
            rgba(139, 213, 255, 0.1),
            transparent 70%
          ),
          radial-gradient(
            closest-side,
            rgba(245, 227, 124, 0.06),
            transparent 75%
          );
        filter: blur(40px);
      }

      /* TOC + content */
      .cols {
        display: grid;
        gap: 20px;
      }
      @media (min-width: 980px) {
        .cols {
          grid-template-columns: 280px 1fr;
        }
      }
      .toc {
        position: sticky;
        top: 76px;
        align-self: start;
        background: var(--card);
        border: 1px solid var(--bd);
        border-radius: 14px;
        padding: 14px;
        max-height: calc(100vh - 110px);
        overflow: auto;
      }
      .toc h3 {
        margin: 0 0 8px;
        font-size: 1rem;
      }
      .toc a {
        display: block;
        padding: 6px 6px;
        border-radius: 8px;
        color: var(--muted);
      }
      .toc a:hover {
        background: #15151c;
        color: var(--cyan);
      }
      .doc {
        background: var(--card);
        border: 1px solid var(--bd);
        border-radius: 14px;
        padding: 22px;
      }

      /* Markdown styling */
      .doc h1,
      .doc h2,
      .doc h3,
      .doc h4 {
        scroll-margin-top: 90px;
      }
      .doc h1 {
        font-size: 1.8rem;
        border-bottom: 1px solid #1f1f25;
        padding-bottom: 6px;
      }
      .doc h2 {
        font-size: 1.4rem;
        margin-top: 24px;
        border-left: 3px solid var(--cyan);
        padding-left: 10px;
      }
      .doc h3 {
        font-size: 1.15rem;
        margin-top: 18px;
        color: #f0f0f0;
      }
      .doc p {
        margin: 10px 0;
      }
      .doc blockquote {
        border-left: 4px solid var(--yellow);
        background: #131319;
        padding: 10px 14px;
        border-radius: 8px;
      }
      .doc table {
        border-collapse: collapse;
        width: 100%;
        margin: 12px 0;
      }
      .doc th,
      .doc td {
        border: 1px solid #2a2a33;
        padding: 8px 10px;
        text-align: left;
      }
      .doc th {
        background: #161621;
      }
      .doc pre {
        background: #0f0f16;
        border: 1px solid #242432;
        border-radius: 10px;
        padding: 12px;
        overflow: auto;
      }
      .doc code {
        background: #121220;
        border: 1px solid #242432;
        border-radius: 6px;
        padding: 2px 6px;
      }
      .doc a {
        border-bottom: 1px dotted rgba(139, 213, 255, 0.5);
      }
      .doc hr {
        border: 0;
        border-top: 1px dashed #2a2a33;
        margin: 22px 0;
      }
      .callout {
        display: flex;
        gap: 10px;
        align-items: center;
        background: #14141d;
        border: 1px solid #2a2a33;
        border-radius: 12px;
        padding: 10px 12px;
      }
      .pill {
        display: inline-block;
        padding: 2px 8px;
        border-radius: 8px;
        border: 1px solid #2a2a33;
        color: var(--yellow);
      }

      /* Footer */
      footer {
        border-top: 1px solid #1f1f25;
        color: #cfcfcf;
        font-size: 0.9rem;
        text-align: center;
        padding: 24px 16px;
        margin-top: 40px;
      }
    </style>
  </head>
  <body>
    <div class="glow" aria-hidden="true"></div>

    <header>
      <div class="nav">
        <div class="brand">
          <span class="dot"></span><b>SNATCHERNAUTS — Docs</b>
        </div>
        <div>
          <a class="btn" href="./index.html">Home</a>
          <a
            class="btn"
            href="https://gitlab.com/grahfgames/snatchernauts_framework"
            target="_blank"
            rel="noopener"
            >Repository</a
          >
        </div>
      </div>
    </header>

    <div class="wrap">
      <div class="hero">
        <div>
          <div class="badge mono">
            Ren’Py · Shader-driven VN/Adventure Toolkit
          </div>
          <h1>Documentation</h1>
          <div class="mono">
            Palette: #0e0e10 · #8BD5FF · #FF4F6D · #F5E37C · #EAEAEA
          </div>
        </div>
        <div class="callout">
          <span class="pill">Tip</span
          ><span>Use the sidebar to jump between sections.</span>
        </div>
      </div>

      <div class="cols">
        <nav class="toc" id="toc">
          <h3>On this page</h3>
          <div id="toc-list">Generating…</div>
        </nav>
        <article class="doc" id="doc">Loading README…</article>
      </div>
    </div>

    <footer>
      © Snatchernauts Framework — MIT licensed. Built with cyberpunk noir
      aesthetics.
    </footer>

    <!-- Marked (Markdown → HTML). Uses a small, well-known library from CDN. -->
    <script
      src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"
      integrity="sha384-U3V1t0Qh3v1c1q1m4bD5C6a0W2e7mZ8pQkJqvP3l1qk1O7T0o1m9Xw=="
      crossorigin="anonymous"
    ></script>
    <script>
      // Fetch README.md (must be present under /public/ as README.md)
      async function loadReadme() {
        try {
          const res = await fetch("./README.md", { cache: "no-cache" });
          const md = await res.text();
          // Render markdown
          marked.setOptions({
            breaks: true,
            gfm: true,
          });
          const html = marked.parse(md);
          const doc = document.getElementById("doc");
          doc.innerHTML = html;

          // Build TOC from headings (h1..h3)
          const headings = doc.querySelectorAll("h1, h2, h3");
          const toc = document.getElementById("toc-list");
          const ul = document.createElement("ul");
          ul.style.listStyle = "none";
          ul.style.padding = "0";
          ul.style.margin = "0";

          headings.forEach((h) => {
            if (!h.id) {
              h.id = h.textContent
                .toLowerCase()
                .replace(/[^\w\s-]/g, "")
                .trim()
                .replace(/\s+/g, "-");
            }
            const li = document.createElement("li");
            li.style.margin =
              h.tagName === "H1"
                ? "6px 0"
                : h.tagName === "H2"
                  ? "4px 0 4px 12px"
                  : "2px 0 2px 24px";
            const a = document.createElement("a");
            a.href = "#" + h.id;
            a.textContent = h.textContent;
            li.appendChild(a);
            ul.appendChild(li);
          });
          toc.innerHTML = "";
          toc.appendChild(ul);
        } catch (e) {
          document.getElementById("doc").innerHTML =
            '<p style="color:#ffb3bf">Failed to load README.md. Ensure it is copied to <code>public/README.md</code>.</p>';
        }
      }
      loadReadme();
    </script>
  </body>
</html>
